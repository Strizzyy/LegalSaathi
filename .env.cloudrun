# Google Cloud Run Environment Configuration
# This file contains environment variables optimized for Cloud Run deployment

# Deployment Environment
GOOGLE_CLOUD_DEPLOYMENT=true
RENDER_DEPLOYMENT=false

# Server Configuration
PORT=8080
HOST=0.0.0.0

# Performance Optimization for Cloud Run
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
TRANSFORMERS_OFFLINE=1
HF_HUB_OFFLINE=1

# Disable heavy ML models for fast startup
DISABLE_SENTENCE_TRANSFORMERS=true
DISABLE_CROSS_ENCODER=true
DISABLE_FAISS=true
DISABLE_SPACY=true
DISABLE_NLTK=true

# Service Configuration for lightweight deployment
USE_LIGHTWEIGHT_SERVICES=true
ENABLE_LAZY_LOADING=true
SKIP_MODEL_PRELOADING=true
PRIORITIZE_CRITICAL_SERVICES=true

# Startup Optimization
FAST_STARTUP_MODE=true
DEFER_NON_CRITICAL_SERVICES=true
PARALLEL_SERVICE_INITIALIZATION=true

# Memory and CPU Optimization
OPTIMIZE_MEMORY_USAGE=true
ENABLE_GARBAGE_COLLECTION=true
PRELOAD_MODULES=false

# Logging Configuration
LOG_LEVEL=INFO
ENABLE_PERFORMANCE_LOGGING=true
ENABLE_STARTUP_METRICS=true

# Cache Configuration (use Google Cloud Memory Store in production)
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600
ENABLE_RESPONSE_CACHING=true

# Database Configuration (use Cloud SQL in production)
DATABASE_URL=sqlite:///./legal_saathi.db
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Google Cloud AI Services (set these in Cloud Run environment)
# GOOGLE_APPLICATION_CREDENTIALS_JSON=<your-service-account-json>
# GOOGLE_CLOUD_PROJECT=<your-project-id>

# API Keys (set these in Cloud Run environment)
# GROQ_API_KEY=<your-groq-api-key>
# GEMINI_API_KEY=<your-gemini-api-key>

# Firebase Configuration (set these in Cloud Run environment)
# FIREBASE_PROJECT_ID=<your-firebase-project-id>
# FIREBASE_PRIVATE_KEY=<your-firebase-private-key>
# FIREBASE_CLIENT_EMAIL=<your-firebase-client-email>

# Email Configuration (set these in Cloud Run environment)
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=<your-email>
# SMTP_PASSWORD=<your-app-password>

# Security Configuration
CORS_ORIGINS=["https://*.run.app", "https://legal-saathi.com", "http://localhost:3000", "http://localhost:5173"]
ALLOWED_HOSTS=["*.run.app", "legal-saathi.com", "localhost"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100/minute

# Health Check Configuration optimized for Cloud Run
HEALTH_CHECK_TIMEOUT=10
STARTUP_TIMEOUT=90
GRACEFUL_SHUTDOWN_TIMEOUT=10
READINESS_CHECK_INTERVAL=5

# Static File Serving
ENABLE_STATIC_FILE_CACHING=true
STATIC_FILE_MAX_AGE=86400

# Cloud Run Specific Optimizations
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=2
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_TIMEOUT=300
CLOUD_RUN_CONCURRENCY=80